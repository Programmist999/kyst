<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>palette 路 messenger</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0,1" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- LANDING PAGE -->
        <div id="landing-container" class="landing-container">
            <div class="landing-bg">
                <div class="gradient-sphere"></div>
                <div class="gradient-sphere-2"></div>
                <div class="gradient-sphere-3"></div>
            </div>
            
            <nav class="landing-nav">
                <div class="nav-logo">
                    <h1 class="logo">palette</h1>
                </div>
                <div class="nav-links">
                    <a href="#features">Features</a>
                    <a href="#security">Security</a>
                    <a href="#community">Community</a>
                    <a href="#pricing">Pricing</a>
                </div>
                <div class="nav-buttons landing-auth-buttons">
                    <button id="landing-theme-toggle" class="icon-btn">
                        <span class="material-symbols-outlined theme-toggle-icon">dark_mode</span>
                    </button>
                    <button id="landing-login-btn" class="btn outline">Sign in</button>
                    <button id="landing-signup-btn" class="btn primary">Get started</button>
                </div>
                <div id="landing-user-profile" class="landing-user-profile hidden">
                    <div class="landing-user-avatar" id="landing-user-avatar"></div>
                    <span class="landing-user-name" id="landing-user-name">User</span>
                </div>
            </nav>
            
            <div class="landing-hero">
                <div class="hero-content">
                    <div class="hero-badge">
                        <span class="material-symbols-outlined">bolt</span>
                        Real-time messaging
                    </div>
                    <h1>connect 路 create 路 <span class="gradient-text">converse</span></h1>
                    <p class="hero-subtitle">Minimalist messenger with Material You design.<br>100% free, open source, and encrypted.</p>
                    <div class="hero-buttons">
                        <button id="hero-signup-btn" class="btn primary large">
                            <span class="material-symbols-outlined">chat</span>
                            Start messaging
                        </button>
                        <button id="hero-demo-btn" class="btn outline large">
                            <span class="material-symbols-outlined">play_arrow</span>
                            Watch demo
                        </button>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number">10k+</span>
                            <span class="stat-label">Active users</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">50k+</span>
                            <span class="stat-label">Messages daily</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">100+</span>
                            <span class="stat-label">Countries</span>
                        </div>
                    </div>
                </div>
                <div class="hero-preview">
                    <div class="preview-card">
                        <div class="preview-header">
                            <div class="preview-dots">
                                <span class="preview-dot red"></span>
                                <span class="preview-dot yellow"></span>
                                <span class="preview-dot green"></span>
                            </div>
                            <div class="preview-title">palette 路 general</div>
                        </div>
                        <div class="preview-chat">
                            <div class="preview-message">
                                <div class="preview-avatar" style="background: linear-gradient(135deg, #6750a4, #9a82db);"></div>
                                <div class="preview-bubble">Hey, have you tried the new voice messages?</div>
                            </div>
                            <div class="preview-message own">
                                <div class="preview-bubble">Yes! They're amazing </div>
                                <div class="preview-avatar" style="background: linear-gradient(135deg, #9a82db, #b4a3d9);"></div>
                            </div>
                            <div class="preview-message">
                                <div class="preview-avatar" style="background: linear-gradient(135deg, #b4a3d9, #6750a4);"></div>
                                <div class="preview-bubble">And the Material You design is so clean</div>
                            </div>
                            <div class="preview-typing">
                                <span class="typing-dot"></span>
                                <span class="typing-dot"></span>
                                <span class="typing-dot"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="features" class="landing-features">
                <div class="section-header">
                    <span class="section-badge">Features</span>
                    <h2>Everything you need</h2>
                    <p class="section-subtitle">Powerful features wrapped in a minimalist interface</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <span class="material-symbols-outlined">bolt</span>
                        </div>
                        <h3>Real-time</h3>
                        <p>Instant messaging with typing indicators and read receipts</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <span class="material-symbols-outlined">mic</span>
                        </div>
                        <h3>Voice messages</h3>
                        <p>Record and send voice messages with waveform animation</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <span class="material-symbols-outlined">campaign</span>
                        </div>
                        <h3>Channels</h3>
                        <p>Create public channels for your community</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <span class="material-symbols-outlined">group</span>
                        </div>
                        <h3>Groups</h3>
                        <p>Private groups for friends and teams</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <span class="material-symbols-outlined">dark_mode</span>
                        </div>
                        <h3>Dark theme</h3>
                        <p>Automatic dark mode that's easy on the eyes</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <span class="material-symbols-outlined">security</span>
                        </div>
                        <h3>Encrypted</h3>
                        <p>End-to-end encryption for your privacy</p>
                    </div>
                </div>
            </div>

            <div id="community" class="landing-community">
                <div class="community-content">
                    <div class="section-header">
                        <span class="section-badge">Community</span>
                        <h2>Join the conversation</h2>
                        <p class="section-subtitle">Connect with people from all around the world</p>
                    </div>
                    <div class="community-avatars">
                        <div class="testimonial-avatar" style="background: linear-gradient(135deg, #6750a4, #9a82db);"></div>
                        <div class="testimonial-avatar" style="background: linear-gradient(135deg, #9a82db, #b4a3d9);"></div>
                        <div class="testimonial-avatar" style="background: linear-gradient(135deg, #b4a3d9, #6750a4);"></div>
                        <span class="community-count">+2k</span>
                    </div>
                    <div class="community-stats">
                        <div class="stat">
                            <span class="stat-value">10k+</span>
                            <span class="stat-label">Daily active users</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">150+</span>
                            <span class="stat-label">Countries</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">1M+</span>
                            <span class="stat-label">Messages sent</span>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="landing-footer">
                <div class="footer-content">
                    <div class="footer-logo">
                        <h2 class="logo">palette</h2>
                        <p>漏 2026 Palette Messenger.</p>
                    </div>
                    <div class="footer-links">
                        <a href="#">Terms</a>
                        <a href="#">Privacy</a>
                        <a href="#">Security</a>
                        <a href="#">Status</a>
                    </div>
                    <div class="footer-social">
                        <span class="material-symbols-outlined">flutter</span>
                        <span class="material-symbols-outlined">code</span>
                        <span class="material-symbols-outlined">public</span>
                    </div>
                </div>
            </footer>
        </div>

        <!-- AUTH CONTAINER -->
        <div id="auth-container" class="auth-container hidden">
            <div class="auth-card slide-up">
                <button id="back-to-landing-btn" class="icon-btn back-btn">
                    <span class="material-symbols-outlined">arrow_back</span>
                </button>
                <div class="auth-header">
                    <h1 class="logo">palette</h1>
                    <p class="auth-subtitle">connect 路 create 路 converse</p>
                </div>
                
                <div id="login-form" class="auth-form active">
                    <div class="input-field">
                        <span class="material-symbols-outlined">mail</span>
                        <input type="email" id="login-email" placeholder="Email">
                    </div>
                    <div class="input-field">
                        <span class="material-symbols-outlined">lock</span>
                        <input type="password" id="login-password" placeholder="Password">
                    </div>
                    <button id="login-btn" class="btn primary">Sign in</button>
                    <div class="auth-divider">
                        <span>or</span>
                    </div>
                    <div class="oauth-buttons">
                        <button class="btn oauth" id="google-login">
                            <span class="material-symbols-outlined">flutter</span>
                            Google
                        </button>
                        <button class="btn oauth" id="github-login">
                            <span class="material-symbols-outlined">code</span>
                            GitHub
                        </button>
                    </div>
                    <p class="auth-switch">Don't have an account? <a href="#" id="show-signup">Sign up</a></p>
                </div>

                <div id="signup-form" class="auth-form">
                    <div class="input-field">
                        <span class="material-symbols-outlined">badge</span>
                        <input type="text" id="signup-name" placeholder="Your name">
                    </div>
                    <div class="username-hint">
                        <span class="material-symbols-outlined">alternate_email</span>
                        <span id="username-preview">@username</span>
                    </div>
                    <div class="input-field">
                        <span class="material-symbols-outlined">mail</span>
                        <input type="email" id="signup-email" placeholder="Email">
                    </div>
                    <div class="input-field">
                        <span class="material-symbols-outlined">lock</span>
                        <input type="password" id="signup-password" placeholder="Password">
                    </div>
                    <div class="input-field">
                        <span class="material-symbols-outlined">lock_clock</span>
                        <input type="password" id="signup-confirm-password" placeholder="Confirm password">
                    </div>
                    <div id="password-match-error" class="error-message hidden">
                        Passwords don't match
                    </div>
                    <button id="signup-btn" class="btn primary">Create account</button>
                    <p class="auth-switch">Already have an account? <a href="#" id="show-login">Sign in</a></p>
                </div>
            </div>
        </div>

        <!-- MAIN CHAT INTERFACE -->
        <div id="chat-container" class="chat-container hidden">
            <!-- SIDEBAR -->
            <div class="sidebar">
                <div class="sidebar-resize-handle"></div>
                
                <div class="sidebar-header">
                    <div class="header-left">
                        <h2 class="logo">palette</h2>
                        <button id="back-to-landing-chat-btn" class="icon-btn" title="Back to home">
                            <span class="material-symbols-outlined">home</span>
                        </button>
                    </div>
                    <div class="header-actions">
                        <button id="profile-btn" class="icon-btn">
                            <span class="material-symbols-outlined">account_circle</span>
                        </button>
                        <button id="theme-toggle" class="icon-btn">
                            <span class="material-symbols-outlined theme-toggle-icon">dark_mode</span>
                        </button>
                        <button id="chat-menu-btn" class="icon-btn">
                            <span class="material-symbols-outlined">more_vert</span>
                        </button>
                    </div>
                </div>
                
                <div class="user-profile-mini">
                    <div id="current-user-avatar" class="avatar"></div>
                    <div class="user-info">
                        <span id="current-username" class="username">Loading...</span>
                        <div class="user-status">
                            <span class="status-dot online"></span>
                            <span>Online</span>
                        </div>
                    </div>
                </div>

                <!-- FOLDERS CONTAINER -->
                <div class="folders-container">
                    <div class="folder-section">
                        <div class="folder-header">
                            <span>Folders</span>
                            <button id="add-folder-btn" class="icon-btn small" title="Create new folder">
                                <span class="material-symbols-outlined">folder</span>
                            </button>
                        </div>
                        <div class="folders-list" id="folders-list">
                            <div class="folder-item" data-folder="inbox" data-default="true">
                                <span class="material-symbols-outlined folder-icon">inbox</span>
                                <span class="folder-name">Inbox</span>
                                <span class="folder-count" id="inbox-count">0</span>
                            </div>
                            <div class="folder-item" data-folder="direct" data-default="true">
                                <span class="material-symbols-outlined folder-icon">person</span>
                                <span class="folder-name">Direct</span>
                                <span class="folder-count" id="direct-count">0</span>
                            </div>
                            <div class="folder-item" data-folder="groups" data-default="true">
                                <span class="material-symbols-outlined folder-icon">group</span>
                                <span class="folder-name">Groups</span>
                                <span class="folder-count" id="groups-count">0</span>
                            </div>
                            <div class="folder-item" data-folder="channels" data-default="true">
                                <span class="material-symbols-outlined folder-icon">campaign</span>
                                <span class="folder-name">Channels</span>
                                <span class="folder-count" id="channels-count">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="chats-list" id="chats-list"></div>

                <div class="sidebar-footer">
                    <button id="new-chat-btn" class="btn floating">
                        <span class="material-symbols-outlined">edit</span>
                        <span>New chat</span>
                    </button>
                </div>
            </div>

            <!-- MAIN CHAT AREA -->
            <div class="main-chat">
                <!-- Chat Header -->
                <div id="chat-header" class="chat-header">
                    <div class="chat-header-info">
                        <!-- Will be filled by JS -->
                    </div>
                    <div class="chat-actions">
                        <div id="call-buttons" class="call-buttons hidden">
                            <button class="icon-btn" id="voice-call-btn" title="Voice call">
                                <span class="material-symbols-outlined">call</span>
                            </button>
                            <button class="icon-btn" id="video-call-btn" title="Video call">
                                <span class="material-symbols-outlined">videocam</span>
                            </button>
                        </div>
                        <button class="icon-btn" id="chat-actions-btn">
                            <span class="material-symbols-outlined">info</span>
                        </button>
                    </div>
                </div>

                <!-- Messages Container -->
                <div id="messages-container" class="messages-container" data-bg="default"></div>

                <!-- Message Input - DIRECTLY IN MAIN-CHAT (NO WRAPPER) -->
                <div class="input-actions">
                    <button id="attach-file-btn" class="icon-btn">
                        <span class="material-symbols-outlined">attach_file</span>
                    </button>
                    <input type="file" id="file-input" hidden multiple>
                    
                    <button id="voice-record-btn" class="icon-btn">
                        <span class="material-symbols-outlined">mic</span>
                    </button>
                    
                    <div class="message-input-field">
                        <input 
                            type="text" 
                            id="message-input" 
                            placeholder="Write a message..." 
                            autocomplete="off"
                        >
                        <div id="particles-container" class="particles-container"></div>
                    </div>
                    
                    <button id="send-message-btn" class="btn send-btn">
                        <span class="material-symbols-outlined">send</span>
                    </button>
                </div>

                <!-- Voice Recording Indicator -->
                <div id="voice-recording-indicator" class="voice-recording-indicator hidden">
                    <div class="recording-pulse"></div>
                    <span class="material-symbols-outlined">mic</span>
                    <span id="voice-timer">0:00</span>
                    <button id="cancel-voice-btn" class="icon-btn small">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                    <button id="send-voice-btn" class="icon-btn primary">
                        <span class="material-symbols-outlined">send</span>
                    </button>
                </div>

                <!-- Reply Preview -->
                <div id="reply-preview" class="reply-preview hidden">
                    <span class="material-symbols-outlined">reply</span>
                    <div class="reply-content">
                        <span id="reply-username" class="reply-username"></span>
                        <span id="reply-text" class="reply-text"></span>
                    </div>
                    <button id="cancel-reply" class="icon-btn small">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
            </div>

            <!-- RIGHT PANEL -->
            <div id="right-panel" class="right-panel hidden">
                <div class="right-panel-header">
                    <h3>Chat Info</h3>
                    <button class="icon-btn" id="close-right-panel">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                
                <div class="right-panel-content">
                    <div class="panel-section chat-profile">
                        <div class="panel-avatar" id="panel-chat-avatar"></div>
                        <h2 id="panel-chat-name">Chat Name</h2>
                        <p class="panel-description" id="panel-chat-description">No description</p>
                        <p class="panel-type" id="panel-chat-type">Private Chat</p>
                    </div>
                    
                    <div class="panel-section invite-section">
                        <h4>Invite Link</h4>
                        <div class="invite-link-container">
                            <input type="text" id="panel-invite-link" readonly value="Loading...">
                            <button class="btn icon-btn" id="copy-invite-link">
                                <span class="material-symbols-outlined">content_copy</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="panel-section" id="chat-edit-section" style="display: none;">
                        <h4>Edit Chat</h4>
                        <div class="edit-field">
                            <label>Name</label>
                            <input type="text" id="panel-edit-name">
                        </div>
                        <div class="edit-field">
                            <label>Description</label>
                            <textarea id="panel-edit-description" rows="2"></textarea>
                        </div>
                        <button class="btn primary" id="save-chat-settings">Save Changes</button>
                    </div>
                    
                    <div class="panel-section">
                        <h4>Files</h4>
                        <div id="panel-files-list" class="panel-list"></div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>Voice Messages</h4>
                        <div id="panel-voices-list" class="panel-list"></div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>Search</h4>
                        <div class="panel-search-tabs">
                            <button class="panel-search-tab active" data-type="all">All</button>
                            <button class="panel-search-tab" data-type="text">Text</button>
                            <button class="panel-search-tab" data-type="file">Files</button>
                            <button class="panel-search-tab" data-type="voice">Voice</button>
                        </div>
                        <div class="panel-search-field">
                            <span class="material-symbols-outlined">search</span>
                            <input type="text" id="panel-search-input" placeholder="Search messages...">
                        </div>
                        <div id="panel-search-results" class="panel-search-results"></div>
                    </div>
                </div>
            </div>

            <!-- PROFILE PANEL -->
            <div id="profile-panel" class="profile-panel hidden">
                <div class="profile-panel-header">
                    <div class="profile-panel-cover" data-header="default">
                        <div class="profile-panel-cover-edit">
                            <button class="btn icon-btn" id="panel-change-header">
                                <span class="material-symbols-outlined">photo_camera</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="profile-panel-avatar-section">
                        <div id="panel-avatar-preview" class="avatar huge"></div>
                        <button class="btn outline" id="panel-change-avatar">
                            <span class="material-symbols-outlined">photo_camera</span>
                            Change photo
                        </button>
                        <input type="file" id="panel-avatar-input" accept="image/*" hidden>
                    </div>
                    
                    <div class="profile-panel-info">
                        <h1 id="panel-display-name">User</h1>
                        <div class="profile-panel-username" id="panel-username">@username</div>
                        
                        <div class="profile-panel-status" id="panel-status">
                            <span class="status-dot online"></span>
                            <span>Online</span>
                        </div>
                        
                        <div class="profile-panel-bio" id="panel-bio">
                            No bio yet
                        </div>
                    </div>
                    
                    <div class="profile-panel-tabs">
                        <button class="profile-panel-tab active" data-tab="about">About</button>
                        <button class="profile-panel-tab" data-tab="account">Account</button>
                        <button class="profile-panel-tab" data-tab="settings">Settings</button>
                    </div>
                </div>
                
                <div class="profile-panel-content">
                    <div class="profile-panel-tab-content active" id="panel-about-tab">
                        <div class="profile-field">
                            <label>Display name</label>
                            <input type="text" id="panel-edit-name" placeholder="Your name">
                        </div>
                        
                        <div class="profile-field">
                            <label>Bio</label>
                            <textarea id="panel-edit-bio" placeholder="Tell something about yourself..." rows="4"></textarea>
                        </div>
                    </div>
                    
                    <div class="profile-panel-tab-content" id="panel-account-tab">
                        <div class="account-info-card">
                            <div class="account-info-item">
                                <span class="material-symbols-outlined">alternate_email</span>
                                <div class="account-info-details">
                                    <span class="account-info-label">Username</span>
                                    <span class="account-info-value" id="account-username">@username</span>
                                </div>
                            </div>
                            
                            <div class="account-info-item">
                                <span class="material-symbols-outlined">email</span>
                                <div class="account-info-details">
                                    <span class="account-info-label">Email</span>
                                    <span class="account-info-value" id="account-email">email@example.com</span>
                                </div>
                            </div>
                            
                            <div class="account-info-item">
                                <span class="material-symbols-outlined">calendar_today</span>
                                <div class="account-info-details">
                                    <span class="account-info-label">Joined</span>
                                    <span class="account-info-value" id="account-joined">January 2026</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-panel-tab-content" id="panel-settings-tab">
                        <div class="settings-section">
                            <h3>Appearance</h3>
                            
                            <div class="profile-field">
                                <label>Theme</label>
                                <select id="panel-theme">
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                    <option value="system">System</option>
                                </select>
                            </div>
                            
                            <div class="profile-field">
                                <label>Chat background</label>
                                <select id="panel-chat-bg">
                                    <option value="default">Default</option>
                                    <option value="abstract1">Abstract Waves</option>
                                    <option value="abstract2">Geometric</option>
                                    <option value="abstract3">Soft Gradient</option>
                                    <option value="abstract4">Particles</option>
                                </select>
                            </div>
                            
                            <div class="profile-field">
                                <label>Profile cover</label>
                                <select id="panel-cover">
                                    <option value="default">Default</option>
                                    <option value="gradient1">Sunset</option>
                                    <option value="gradient2">Ocean</option>
                                    <option value="gradient3">Forest</option>
                                    <option value="gradient4">Lavender</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-panel-footer">
                    <button class="btn" id="panel-close-btn">Back to chat</button>
                    <button class="btn primary" id="panel-save-btn">Save changes</button>
                </div>
            </div>
        </div>

        <!-- MODALS -->
        <div id="create-channel-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Create channel</h3>
                    <button class="icon-btn" id="close-channel-modal">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="input-field">
                        <span class="material-symbols-outlined">campaign</span>
                        <input type="text" id="channel-name" placeholder="Channel name">
                    </div>
                    <div class="input-field">
                        <span class="material-symbols-outlined">description</span>
                        <textarea id="channel-description" placeholder="Description" rows="3"></textarea>
                    </div>
                    <div class="checkbox-field">
                        <label class="checkbox-label">
                            <input type="checkbox" id="channel-private">
                            <span class="checkbox-custom"></span>
                            <span>Private channel</span>
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn" id="cancel-channel">Cancel</button>
                    <button class="btn primary" id="create-channel-btn">Create channel</button>
                </div>
            </div>
        </div>

        <div id="create-group-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Create group</h3>
                    <button class="icon-btn" id="close-group-modal">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="input-field">
                        <span class="material-symbols-outlined">group</span>
                        <input type="text" id="group-name" placeholder="Group name">
                    </div>
                    <div class="search-section">
                        <h4>Add members</h4>
                        <div class="search-field">
                            <span class="material-symbols-outlined">search</span>
                            <input type="text" id="group-member-search" placeholder="Search users...">
                        </div>
                        <div id="user-search-results" class="search-results"></div>
                        <div id="selected-members" class="selected-members"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn" id="cancel-group">Cancel</button>
                    <button class="btn primary" id="create-group-btn" disabled>Create group</button>
                </div>
            </div>
        </div>

        <div id="create-folder-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Create new folder</h3>
                    <button class="icon-btn" id="close-folder-modal">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="input-field">
                        <span class="material-symbols-outlined">folder</span>
                        <input type="text" id="folder-name" placeholder="Folder name">
                    </div>
                    <div class="input-field">
                        <span class="material-symbols-outlined">palette</span>
                        <select id="folder-icon">
                            <option value="folder">Default</option>
                            <option value="star">Starred</option>
                            <option value="favorite">Favorites</option>
                            <option value="work">Work</option>
                            <option value="school">School</option>
                            <option value="family">Family</option>
                            <option value="friends">Friends</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn" id="cancel-folder">Cancel</button>
                    <button class="btn primary" id="create-folder-btn">Create folder</button>
                </div>
            </div>
        </div>

        <div id="search-modal" class="modal hidden">
            <div class="modal-content search-modal">
                <div class="modal-header">
                    <h3>Search</h3>
                    <button class="icon-btn" id="close-search-modal">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="search-tabs">
                        <button class="search-tab active" data-tab="users">Users</button>
                        <button class="search-tab" data-tab="channels">Channels</button>
                    </div>
                    
                    <div class="search-field large">
                        <span class="material-symbols-outlined">search</span>
                        <input type="text" id="global-search" placeholder="Search...">
                    </div>
                    
                    <div id="global-search-results" class="global-search-results"></div>
                </div>
            </div>
        </div>

        <div id="status-modal" class="modal hidden">
            <div class="modal-content status-modal">
                <div class="modal-header">
                    <h3>Set status</h3>
                    <button class="icon-btn" id="close-status-modal">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="status-options">
                        <div class="status-option active" data-status="online">
                            <span class="status-indicator online"></span>
                            <span class="status-name">Online</span>
                            <span class="material-symbols-outlined check">check</span>
                        </div>
                        <div class="status-option" data-status="away">
                            <span class="status-indicator away"></span>
                            <span class="status-name">Away</span>
                        </div>
                        <div class="status-option" data-status="busy">
                            <span class="status-indicator busy"></span>
                            <span class="status-name">Do not disturb</span>
                        </div>
                        <div class="status-option" data-status="invisible">
                            <span class="status-indicator invisible"></span>
                            <span class="status-name">Invisible</span>
                        </div>
                    </div>
                    <div class="input-field">
                        <span class="material-symbols-outlined">edit</span>
                        <input type="text" id="custom-status" placeholder="Custom status">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn" id="clear-status">Clear</button>
                    <button class="btn primary" id="save-status">Save</button>
                </div>
            </div>
        </div>

        <div id="forward-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Forward to</h3>
                    <button class="icon-btn" id="cancel-forward">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="chats-forward-list" class="chats-forward-list"></div>
                </div>
            </div>
        </div>

        <!-- CALL MODAL -->
        <div id="call-modal" class="call-modal hidden">
            <div class="call-container">
                <div class="call-header">
                    <div class="call-user-info">
                        <div id="call-user-avatar" class="call-user-avatar"></div>
                        <div class="call-user-details">
                            <h3 id="call-user-name">User</h3>
                            <p id="call-status">Calling...</p>
                        </div>
                    </div>
                    <div class="call-timer" id="call-timer">00:00</div>
                </div>
                
                <div class="call-video-container">
                    <video id="remote-video" autoplay playsinline></video>
                    <video id="local-video" autoplay playsinline muted></video>
                    <div id="call-audio-only" class="call-audio-only hidden">
                        <div class="call-audio-avatar" id="call-audio-avatar"></div>
                        <div class="call-audio-name" id="call-audio-name">User</div>
                    </div>
                </div>
                
                <div class="call-controls">
                    <button class="call-control-btn" id="mute-audio-btn" title="Mute">
                        <span class="material-symbols-outlined">mic</span>
                    </button>
                    <button class="call-control-btn" id="toggle-video-btn" title="Toggle video">
                        <span class="material-symbols-outlined">videocam</span>
                    </button>
                    <button class="call-control-btn end-call" id="end-call-btn" title="End call">
                        <span class="material-symbols-outlined">call_end</span>
                    </button>
                    <button class="call-control-btn" id="switch-camera-btn" title="Switch camera">
                        <span class="material-symbols-outlined">flip_camera_ios</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- INCOMING CALL MODAL -->
        <div id="incoming-call-modal" class="call-modal hidden">
            <div class="call-container incoming">
                <div class="call-header">
                    <div class="call-user-info">
                        <div id="incoming-call-avatar" class="call-user-avatar"></div>
                        <div class="call-user-details">
                            <h3 id="incoming-call-name">User</h3>
                            <p id="incoming-call-type">Incoming call</p>
                        </div>
                    </div>
                </div>
                
                <div class="call-controls incoming-controls">
                    <button class="call-control-btn accept-call" id="accept-call-btn" title="Accept">
                        <span class="material-symbols-outlined">call</span>
                    </button>
                    <button class="call-control-btn reject-call" id="reject-call-btn" title="Reject">
                        <span class="material-symbols-outlined">call_end</span>
                    </button>
                </div>
            </div>
        </div>

        <div id="context-menu" class="context-menu hidden">
            <ul>
                <li id="reply-message">
                    <span class="material-symbols-outlined">reply</span>
                    Reply
                </li>
                <li id="forward-message">
                    <span class="material-symbols-outlined">forward</span>
                    Forward
                </li>
                <li id="copy-message">
                    <span class="material-symbols-outlined">content_copy</span>
                    Copy
                </li>
                <li class="separator"></li>
                <li id="delete-message">
                    <span class="material-symbols-outlined">delete</span>
                    Delete
                </li>
            </ul>
        </div>

        <div id="chat-context-menu" class="context-menu hidden">
            <ul>
                <li class="move-to-folder-item">
                    <span class="material-symbols-outlined">drive_file_move</span>
                    Move to folder
                    <span class="material-symbols-outlined submenu-icon">chevron_right</span>
                </li>
                <div class="folder-submenu hidden">
                    <!-- Folders will be populated here -->
                </div>
                <li class="separator"></li>
                <li id="pin-chat">
                    <span class="material-symbols-outlined">push_pin</span>
                    Pin chat
                </li>
                <li id="mute-chat">
                    <span class="material-symbols-outlined">notifications_off</span>
                    Mute
                </li>
                <li class="separator"></li>
                <li id="delete-chat">
                    <span class="material-symbols-outlined">delete</span>
                    Delete chat
                </li>
            </ul>
        </div>

        <div id="header-menu" class="context-menu hidden">
            <ul>
                <li id="menu-search">
                    <span class="material-symbols-outlined">search</span>
                    Search
                </li>
                <li id="menu-new-channel">
                    <span class="material-symbols-outlined">campaign</span>
                    Create channel
                </li>
                <li id="menu-new-group">
                    <span class="material-symbols-outlined">group</span>
                    Create group
                </li>
                <li id="menu-new-folder">
                    <span class="material-symbols-outlined">create_new_folder</span>
                    Create folder
                </li>
                <li class="separator"></li>
                <li id="menu-status">
                    <span class="material-symbols-outlined">radio_button_checked</span>
                    Set status
                </li>
                <li class="separator"></li>
                <li id="menu-logout">
                    <span class="material-symbols-outlined">logout</span>
                    Sign out
                </li>
            </ul>
        </div>
    </div>

    <audio id="audio-player" hidden></audio>
    <script src="/socket.io/socket.io.js"></script>
    <script src="renderer.js"></script>
</body>
</html>